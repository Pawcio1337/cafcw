-- Attachments tables
attach_tables = {}
attach_tables.AR15_Grips = {
	"wpn_fps_ass_m4_g_fancy",
	"wpn_fps_upg_g_m4_surgeon", -- DLC
	"wpn_fps_upg_g_gitsm4"
}
attach_tables.AR15_Magazines = {
	"wpn_fps_upg_m4_m_x15drum",
	"wpn_fps_upg_m4_m_pmag3",
	"wpn_fps_upg_m4_m_pmagsolid",
	"wpn_fps_upg_m4_m_pmag10",
	"wpn_fps_upg_m4_m_pmag20",
	"wpn_fps_upg_m4_m_pmag40",
	"wpn_fps_upg_m4_m_pantsu",
	"wpn_fps_upg_m_hera",
	"wpn_fps_ass_m4_m_wick",
	"wpn_fps_upg_m_quad100",
	"wpn_fps_upg_m_d60",
	"wpn_fps_upg_m_p10",
	"wpn_fps_upg_m_p20",
	"wpn_fps_upg_m_p30",
	"wpn_fps_upg_m_p30w",
	"wpn_fps_upg_m_p40",
	"wpn_fps_upg_m_battle",
	"wpn_fps_upg_m_poly",
	"wpn_fps_upg_m_gen2"
	
}
attach_tables.AR15_Stocks = {
	"wpn_fps_upg_m4_s_collapsed",
	"wpn_fps_upg_m4_s_pts_col",
	"wpn_fps_upg_m4_s_crane_col",
	"wpn_fps_upg_m4_s_mk46_col",
	"wpn_fps_upg_m4_s_ubr_col",
	"wpn_fps_upg_s_m4_ubr",	
	"wpn_fps_upg_s_devgru",
	"wpn_fps_upg_s_m4_pts",
	"wpn_fps_upg_s_m4_pts_c",
	"wpn_fps_upg_s_m4_sl",
	"wpn_fps_upg_s_m4_sl_c",
	"wpn_fps_upg_s_tti",
	"wpn_fps_ass_m4_s_russian",
	"wpn_fps_upg_m4_s_moe",
	"wpn_fps_upg_m4_s_ds150",
	"wpn_fps_upg_m4_s_bus",
	"wpn_fps_upg_m4_s_gen2",
	"wpn_fps_upg_s_gitsm4"
}
attach_tables.Barrel_Extensions = {
	"wpn_fps_upg_ns_ass_smg_tromix",
	"wpn_fps_upg_ns_dragon",
	"wpn_fps_upg_ns_ass_yhm_slant",
	"wpn_fps_upg_ns_ass_smg_russian",
	"wpn_fps_upg_ns_ass_smg_heavy",
	"wpn_fps_upg_ns_ass_smg_v6", -- DLC
	"wpn_fps_upg_ns_gits_dildo_h",
	"wpn_fps_upg_ns_gits_another_h",
	"wpn_fps_upg_ns_gits_sorrycarl_l",
	"wpn_fps_ass_shak12_ns_muzzle" -- DLC
}
attach_tables.Barrel_Extensions_Shotgun = {
	"wpn_fps_upg_m1912_ns_cutts"
}
attach_tables.Barrel_Extensions_Pistol = {
	"wpn_fps_upg_ns_pis_typhoon" -- DLC
}
attach_tables.Gadgets = {
	"wpn_fps_upg_fl_ass_spotter",
	"wpn_fps_upg_fl_ass_smg_sho_marker",
	"wpn_fps_upg_fl_gits_soc1"
}
attach_tables.MOD_RevolverGadgets = {
	"wpn_fps_upg_fl_pis_sidemountlaser"
}
attach_tables.Suppressors = {
	"wpn_fps_ass_ns_g_sup3",
	"wpn_fps_ass_ns_g_sup4",
	"wpn_fps_ass_ns_g_sup5",
	"wpn_fps_upg_ns_shot_cat",
	"wpn_fps_upg_ns_loud",
	"wpn_fps_upg_ns_hock",
	"wpn_fps_upg_ns_osprey",
	"wpn_fps_upg_ns_boomer",
	"wpn_fps_upg_ns_gits_illegal_s",
	"wpn_fps_upg_ns_gits_generic_s",
	"wpn_fps_ass_ns_g_mnstr",
	"wpn_fps_ass_ns_g_rc2",
	"wpn_fps_ass_ns_g_wave"
	
}
attach_tables.Suppressors_Shotgun = {
	"wpn_fps_upg_ns_sho_salvo_small",
	"wpn_fps_upg_ns_shot_cat",
	"wpn_fps_upg_ns_loud"
}
attach_tables.Suppressors_Pistol = {
	"wpn_fps_ass_ns_g_sup1",
	"wpn_fps_ass_ns_g_sup2",
	"wpn_fps_ass_ns_g_sup6",
	"wpn_fps_upg_ns_pis_cloth",
	"wpn_fps_ass_ns_g_srd",
	"wpn_fps_ass_ns_g_aac",
	"wpn_fps_ass_ns_g_sfn",
	"wpn_fps_upg_ns_pis_putnik" -- U218
}
attach_tables.Vertical_Grips = {
	"wpn_fps_upg_vg_fab_reg",
	"wpn_fps_upg_vg_gps02",
	"wpn_fps_upg_vg_gps02bipod",
	"wpn_fps_upg_vg_tangodown",
	"wpn_fps_upg_vg_troy_modular",
	"wpn_fps_upg_vg_troy_modularshort",
	"wpn_fps_upg_vg_utg_combat",
	"wpn_fps_upg_vg_utg_combatfl",
	"wpn_fps_upg_vg_rvg",
	"wpn_fps_upg_vg_bcm",
	"wpn_fps_upg_vg_shift",
	"wpn_fps_upg_vg_kac",
	"wpn_fps_upg_vg_stark",
	"wpn_fps_upg_vg_stub",
	"wpn_fps_upg_vg_uvg",
	"wpn_fps_upg_vg_rk0",
	"wpn_fps_upg_vg_rk1",
	"wpn_fps_upg_vg_rk2",
	"wpn_fps_upg_vg_rk4",
	"wpn_fps_upg_vg_rk5",
	"wpn_fps_upg_vg_rk6",
	"wpn_fps_upg_vg_sand",
	"wpn_fps_upg_vg_ins",
	"wpn_fps_upg_vg_sec",
	"wpn_fps_upg_vg_sac",
	"wpn_fps_upg_vg_stubby", 
	"wpn_fps_upg_vg_verticalgrip",
	"wpn_fps_upg_vg_moe",
	"wpn_fps_upg_vg_tecci", 
	"wpn_fps_upg_vg_foldable", 
	"wpn_fps_upg_vg_grippod",
	"wpn_fps_upg_vg_unity_asset"
}
-- Sights
attach_tables.ACOG = {
	"wpn_fps_upg_o_acog_rmr",
	"wpn_fps_upg_o_gitsch",
	"wpn_fps_upg_o_aog",
	"wpn_fps_upg_o_acogbf3"
}
attach_tables.Custom = {
	"wpn_fps_upg_o_rmr_riser",
	"wpn_fps_upg_o_eotech552",
	"wpn_fps_upg_o_po4",
	"wpn_fps_upg_o_st10",
	"wpn_fps_upg_o_susat",
	"wpn_fps_upg_o_okp7",
	"wpn_fps_upg_o_visionking",
	"wpn_fps_upg_o_compm2",
	"wpn_fps_upg_o_razoramg",
	"wpn_fps_upg_o_valday1p87",
	"wpn_fps_upg_o_burris_ff3",
	"wpn_fps_upg_o_romeo3",
	"wpn_fps_upg_o_sig", -- DLC
	"wpn_fps_upg_o_bmg", -- DLC
	"wpn_fps_upg_o_sn3",
	"wpn_fps_upg_o_mro",
	"wpn_fps_upg_o_vism",
	"wpn_fps_upg_o_pk01_vi",
	"wpn_fps_upg_o_redring",
	"wpn_fps_upg_o_gits_qs2",
	"wpn_fps_upg_o_acog2000",
	"wpn_fps_upg_o_ta648rmr",
	"wpn_fps_upg_o_viper",
	"wpn_fps_upg_o_acro",
	"wpn_fps_upg_o_compm4",
	"wpn_fps_upg_o_mwr_holo",
	"wpn_fps_upg_o_cod4_re_red_dot_sp",
	"wpn_fps_upg_o_cod4_re_red_dot_sp_riser",
	"wpn_fps_upg_o_mw2019_aim_op_reflex_riser",
	"wpn_fps_upg_o_mw2019_aim_op_reflex",
	"wpn_fps_upg_o_mw2019_gi_mini_reflex",
	"wpn_fps_upg_o_mw2019_solozero_mini_reflex",
	"wpn_fps_upg_o_mw2019_cronen_mini_reflex",
	"wpn_fps_upg_o_mw2019_gi_mini_reflex_riser",
	"wpn_fps_upg_o_mw2019_solozero_mini_reflex_riser",
	"wpn_fps_upg_o_mw2019_cronen_mini_reflex_riser",
	"wpn_fps_upg_o_bocw_axial_3x",
	"wpn_fps_upg_o_bocw_quickshot_led",
	"wpn_fps_upg_o_bocw_xm4_v18_acog",
	"wpn_fps_upg_o_mw2_re_red_dot",
	"wpn_fps_upg_o_ebr_scope",
	"wpn_fps_upg_o_ebr_scope_ghillie",
	"wpn_fps_upg_o_operator_rds",
	"wpn_fps_upg_o_operator_rds_noriser",
	"wpn_fps_upg_o_ismc_aimpoint_t2",
	"wpn_fps_upg_o_vk78_standalone_sight",
	"wpn_fps_upg_o_bf2042_vector_talos",
	"wpn_fps_upg_o_vudu",
	"wpn_fps_upg_o_ta01",
	"wpn_fps_upg_o_sos",
	"wpn_fps_upg_o_pine",
	"wpn_fps_upg_o_h2",
	"wpn_fps_upg_o_exps3",
	"wpn_fps_upg_o_delta",
	"wpn_fps_upg_o_r4",
	"wpn_fps_upg_o_razor",
	"wpn_fps_upg_o_ff3",
	"wpn_fps_upg_o_mons",
	"wpn_fps_upg_o_srs2",
	"wpn_fps_upg_o_pk",
	"wpn_fps_upg_o_corp",
	"wpn_fps_ass_sc30_o"
}
attach_tables.CustomSmall = {
	"wpn_fps_upg_o_rmr_riser",
	"wpn_fps_upg_o_romeo3",
	"wpn_fps_upg_o_cod4_re_red_dot_sp",
	"wpn_fps_upg_o_mw2019_aim_op_reflex",
	"wpn_fps_upg_o_mw2019_gi_mini_reflex",
	"wpn_fps_upg_o_mw2019_solozero_mini_reflex",
	"wpn_fps_upg_o_mw2019_cronen_mini_reflex",
	"wpn_fps_upg_o_mw2019_gi_mini_reflex_riser",
	"wpn_fps_upg_o_mw2019_solozero_mini_reflex_riser",
	"wpn_fps_upg_o_mw2019_cronen_mini_reflex_riser",
	"wpn_fps_upg_o_mw2_re_red_dot",
	"wpn_fps_upg_o_mro"
}
attach_tables.Custom_Sniper = {
	"wpn_fps_upg_o_1p69",
	"wpn_fps_upg_o_deltatitanium",
	"wpn_fps_upg_o_csgoscope"
}
attach_tables.Custom_Pistol = {
	"wpn_fps_upg_o_deltapoint",
	"wpn_fps_upg_o_deltapoint_pro",
	"wpn_fps_upg_o_romeo3_pis",
	"wpn_fps_upg_o_rms", -- DLC
	"wpn_fps_upg_o_rikt", -- DLC
	"wpn_fps_upg_o_mw2019_gi_mini_reflex_pis",
	"wpn_fps_upg_o_mw2019_solozero_mini_reflex_pis",
	"wpn_fps_upg_o_mw2019_cronen_mini_reflex_pis",
	"wpn_fps_pis_upg_o_viper" 
}
attach_tables.RDS45 = {
	"wpn_fps_upg_o_45steel" -- DLC
}
attach_tables.Shortdot = {
	"wpn_fps_upg_o_ta648"
}
attach_tables.Specter = {
	"wpn_fps_upg_o_kobra",
	"wpn_fps_upg_o_compm4s",
	"wpn_fps_upg_o_c79",
	"wpn_fps_upg_o_pkas",
	"wpn_fps_upg_o_coyote",
	"wpn_fps_upg_o_hologram",
	"wpn_fps_upg_o_zeiss",
	"wpn_fps_upg_o_hd33",
	"wpn_fps_upg_o_prismatic",
	"wpn_fps_upg_o_srs",
	"wpn_fps_upg_o_hcog",
	"wpn_fps_upg_o_reflexholo",
	"wpn_fps_upg_o_elo",
	"wpn_fps_upg_o_kemper",
	"wpn_fps_upg_o_mepro",
	"wpn_fps_upg_o_rusak",
	"wpn_fps_upg_o_horzine",
	"wpn_fps_upg_o_pka",
	"wpn_fps_upg_o_anpas13d",
	"wpn_fps_upg_o_su230_mdrs",
	"wpn_fps_upg_o_mark4_hamr",
	"wpn_fps_upg_o_jgbg_m7",
	"wpn_fps_upg_o_hartman",
	"wpn_fps_upg_o_kpsr2",
	"wpn_fps_upg_o_pn23",
	"wpn_fps_upg_o_cqb",
	"wpn_fps_upg_o_uh", -- DLC
	"wpn_fps_upg_o_fc1", -- DLC
	"wpn_fps_upg_o_he510c",
	"wpn_fps_upg_o_gits_trusight",
	"wpn_fps_upg_o_gits_futeot",
	"wpn_fps_upg_o_gits_seburors",
	"wpn_fps_upg_o_gits_zism",
	"wpn_fps_upg_o_tf90", -- U201
	"wpn_fps_upg_o_invissight",
	"wpn_fps_upg_o_poe", -- U211 DLC
	"wpn_fps_upg_o_unity_asset"
}
attach_tables.SpecterSmall = {
	"wpn_fps_upg_o_coyote",
	"wpn_fps_upg_o_horzine",
	"wpn_fps_upg_o_fc1" -- DLC
}
attach_tables.Custom_WW2_Allied = {
	"wpn_fps_upg_o_nydar"
}
attach_tables.Custom_WW2_Axis = {
	"wpn_fps_upg_o_mk3"
}
attach_tables.MOD_IronSightsPack_Custom = {
	"wpn_fps_upg_o_var_cheap_rear",
	"wpn_fps_upg_o_var_dd_a1_rear",
	"wpn_fps_upg_o_var_dh_iss_rear",
	"wpn_fps_upg_o_var_kac_rear",
	"wpn_fps_upg_o_var_m4flipup_rear",
	"wpn_fps_upg_o_var_mbus_rear",
	"wpn_fps_upg_o_var_mbuspro_rear",
	"wpn_fps_upg_o_var_scalarworks_peak_rear",
	"wpn_fps_upg_o_var_scorpionevo_rear",
	"wpn_fps_upg_o_var_troy_rear",
	"wpn_fps_upg_o_var_troym4_rear"
}
attach_tables.MOD_IronSightsPack_NoScorpEvo_Custom = {
	"wpn_fps_upg_o_var_cheap_rear",
	"wpn_fps_upg_o_var_dd_a1_rear",
	"wpn_fps_upg_o_var_dh_iss_rear",
	"wpn_fps_upg_o_var_kac_rear",
	"wpn_fps_upg_o_var_m4flipup_rear",
	"wpn_fps_upg_o_var_mbus_rear",
	"wpn_fps_upg_o_var_mbuspro_rear",
	"wpn_fps_upg_o_var_scalarworks_peak_rear",
	"wpn_fps_upg_o_var_troy_rear",
	"wpn_fps_upg_o_var_troym4_rear"
}
attach_tables.MOD_IronSightsPack_SniperStats_Custom = {
	"wpn_fps_upg_o_snp_cheap_rear",
	"wpn_fps_upg_o_snp_dh_iss_rear",
	"wpn_fps_upg_o_snp_dd_a1_rear",
	"wpn_fps_upg_o_snp_kac_rear",
	"wpn_fps_upg_o_snp_m4flipup_rear",
	"wpn_fps_upg_o_snp_mbus_rear",
	"wpn_fps_upg_o_snp_mbuspro_rear",
	"wpn_fps_upg_o_snp_scalarworks_peak_rear",
	"wpn_fps_upg_o_snp_scorpionevo_rear",
	"wpn_fps_upg_o_snp_troy_rear",
	"wpn_fps_upg_o_snp_troym4_rear"
}
attach_tables.MOD_IronSightsPack_Front = {
	"wpn_fps_upg_o_var_cheap_front",
	"wpn_fps_upg_o_var_dd_a1_front",
	"wpn_fps_upg_o_var_dh_iss_front",
	"wpn_fps_upg_o_var_m4flipup_front",
	"wpn_fps_upg_o_var_kac_front",
	"wpn_fps_upg_o_var_mbus_front",
	"wpn_fps_upg_o_var_mbuspro_front",
	"wpn_fps_upg_o_var_scalarworks_peak_front",
	"wpn_fps_upg_o_var_scorpionevo_front",
	"wpn_fps_upg_o_var_troy_front",
	"wpn_fps_upg_o_var_troym4_front"
}
attach_tables.MOD_PistolIronSightsPack_Custom = {
	"wpn_fps_upg_o_pis_atps",
	"wpn_fps_upg_o_pis_czhajo",
	"wpn_fps_upg_o_pis_drsnek",
	"wpn_fps_upg_o_pis_fma17",
	"wpn_fps_upg_o_pis_ghostring",
	"wpn_fps_upg_o_pis_seeall"
}
attach_tables.MOD_PistolIronSightsPack_Front = {
	"wpn_fps_upg_o_pis_atps_front",
	"wpn_fps_upg_o_pis_czhajo_front",
	"wpn_fps_upg_o_pis_drsnek_front",
	"wpn_fps_upg_o_pis_ghostring_front"
}
attach_tables.MOD_RussianSightPack_Custom = {
	"wpn_fps_upg_o_1p29",
	"wpn_fps_upg_o_ekp_1s_03",
	"wpn_fps_upg_o_pso1_rifle",
	"wpn_fps_upg_o_1pn93",
	"wpn_fps_upg_o_okp7_dove"
}
-- Unique attachment tables to exclude specific attachments for custom weapon. Only exception are Iron Sights Pack and Pistol Iron Sights Pack mods.
attach_tables.Suppressors_NoOsprey = {
	"wpn_fps_ass_ns_g_sup3",
	"wpn_fps_ass_ns_g_sup4",
	"wpn_fps_ass_ns_g_sup5",
	"wpn_fps_upg_ns_shot_cat",
	"wpn_fps_upg_ns_loud",
	"wpn_fps_upg_ns_hock",
	"wpn_fps_upg_ns_boomer",
	"wpn_fps_upg_ns_gits_illegal_s",
	"wpn_fps_upg_ns_gits_generic_s"
}
-- Attachments tables end
function WeaponFactoryTweakData:cafcw_add_attachment_type(attach_type, wpn_id, add_id)
	if type(attach_tables[attach_type]) == "table" then
		if self[wpn_id] then
			for i, part_id in pairs(attach_tables[attach_type]) do
				if self.parts[part_id] and not table.contains(self[wpn_id].uses_parts, part_id) then
					table.insert(self[wpn_id].uses_parts, part_id)
				end
				if self.parts[add_id] then
					if self[wpn_id].adds then
						self[wpn_id].adds[part_id] = {add_id}
					else
						log("[ERROR] CAFCW: Missing adds table: " .. wpn_id, part_id, add_id)
					end
				end
			end
		else
			log("[ERROR] cafcw_add_attachment_type: Weapon not found: " .. wpn_id)
		end
	else
		log("[ERROR] cafcw_add_attachment_type: Incorrect attach_type ID used: " .. attach_type, wpn_id, add_id)
	end
end
function WeaponFactoryTweakData:cafcw_add_custom_sights(sight_base, wpn_id, stance_wpn_id, add_id, offset)
	if type(attach_tables[sight_base]) == "table" then
		if self[wpn_id] then
			for i, sight_id in pairs(attach_tables[sight_base]) do
				switch_id = nil
				if self.parts[sight_id] then
					if sight_base == "ACOG" then
						sight_base = "wpn_fps_upg_o_acog"
					elseif sight_base == "RDS45" then
						sight_base = "wpn_fps_upg_o_45rds"
					elseif sight_base == "Shortdot" then
						sight_base = "wpn_fps_upg_o_shortdot"
					elseif sight_base == "Specter" or sight_base == "SpecterSmall" then
						sight_base = "wpn_fps_upg_o_specter"
					end
					if sight_id == "wpn_fps_upg_o_acog_rmr" then
						switch_id = "wpn_fps_upg_o_acog_rmr_switch"
					elseif sight_id == "wpn_fps_upg_o_ta648rmr" then
						switch_id = "wpn_fps_upg_o_ta648rmr_switch"
					elseif sight_id == "wpn_fps_upg_o_su230_mdrs" then
						switch_id = "wpn_fps_upg_o_su230_mdrs_switch"
					elseif sight_id == "wpn_fps_upg_o_mark4_hamr" then
						switch_id = "wpn_fps_upg_o_mark4_hamr_switch"
					end
					if not table.contains(self[wpn_id].uses_parts, sight_id) then
						table.insert(self[wpn_id].uses_parts, sight_id)
					end
					if string.match(sight_base, "Custom") then
						if self.parts[sight_id].stance_mod[stance_wpn_id] then
							self.parts[sight_id].stance_mod[wpn_id] = deep_clone(self.parts[sight_id].stance_mod[stance_wpn_id])
						else
							log("[ERROR] CAFCW: Missing required stance_mod: " .. wpn_id, sight_id, stance_wpn_id)
						end
					else
						if self.parts[sight_base].stance_mod[stance_wpn_id] then
							self.parts[sight_id].stance_mod[wpn_id] = deep_clone(self.parts[sight_base].stance_mod[stance_wpn_id])
						else
							log("[ERROR] CAFCW: Missing required stance_mod: " .. wpn_id, sight_id, stance_wpn_id, sight_base)
						end
					end
					if offset and self.parts[sight_id].stance_mod[wpn_id].translation then
						self.parts[sight_id].stance_mod[wpn_id].translation = (self.parts[sight_id].stance_mod[wpn_id].translation + offset:ToVector3())
					end
				end
				if switch_id then
					if sight_id == "wpn_fps_upg_o_acog_rmr" or "wpn_fps_upg_o_ta648rmr" or "wpn_fps_upg_o_su230_mdrs" or "wpn_fps_upg_o_mark4_hamr" then
						if self.parts[switch_id].stance_mod[stance_wpn_id] then
							self.parts[switch_id].stance_mod[wpn_id] = deep_clone(self.parts[switch_id].stance_mod[stance_wpn_id])
						else
							log("[ERROR] CAFCW: Missing required stance_mod: " .. wpn_id, switch_id, stance_wpn_id)
						end
					end
				end
				if self.parts[add_id] then
					if self[wpn_id].adds then
						self[wpn_id].adds[sight_id] = {add_id}
					else
						log("[ERROR] CAFCW: Missing adds table: " .. wpn_id, sight_id, add_id)
					end
				end
			end
		else
			log("[ERROR] cafcw_add_custom_sights: Weapon not found: " .. wpn_id)
		end
	else
		log("[ERROR] cafcw_add_custom_sights: Incorrect sight_base ID used: " .. sight_base, wpn_id, stance_wpn_id)
	end
end
function WeaponFactoryTweakData:cafcw_forbids_attachment_type(attach_type, attach_id)
	if type(attach_tables[attach_type]) == "table" then
		for i, part_id in pairs(attach_tables[attach_type]) do
			if self.parts[part_id] and self.parts[attach_id] then
				if self.parts[attach_id].forbids then
					table.insert(self.parts[attach_id].forbids, part_id)
				else
					table.map_append(self.parts[attach_id], {forbids = {part_id}})
				end
			end
		end
	else
		log("[ERROR] cafcw_forbids_attachment_type: Incorrect attach_type ID used: " .. attach_type, attach_id)
	end
end
function WeaponFactoryTweakData:cafcw_forbids_adds_attachment_type(attach_type, attach_id)
	if type(attach_tables[attach_type]) == "table" then
		for i, part_id in pairs(attach_tables[attach_type]) do
			if self.parts[part_id] and self.parts[attach_id] then
				if self.parts[part_id].forbids then
					table.insert(self.parts[part_id].forbids, attach_id)
				else
					table.map_append(self.parts[part_id], {forbids = {attach_id}})
				end
			end
		end
	else
		log("[ERROR] cafcw_forbids_attachment_type: Incorrect attach_type ID used: " .. attach_type, attach_id)
	end
end
function WeaponFactoryTweakData:cafcw_part_a_obj_pattern_override(attach_type, part_ovr_id, a_obj_id, parent_id)
	if type(attach_tables[attach_type]) == "table" then
		for i, part_id in pairs(attach_tables[attach_type]) do
			if self.parts[part_id] and self.parts[part_ovr_id] then
				if not self.parts[part_ovr_id].override then
					self.parts[part_ovr_id].override = {}
				end
				if a_obj_id and parent_id then
					if self.parts[part_ovr_id].override then
						self.parts[part_ovr_id].override[part_id] = {a_obj = a_obj_id, parent = parent_id}
					end
				elseif a_obj_id and not parent_id then
					if self.parts[part_ovr_id].override then
						self.parts[part_ovr_id].override[part_id] = {a_obj = a_obj_id}
					end
				elseif parent_id and not a_obj_id then
					if self.parts[part_ovr_id].override then
						self.parts[part_ovr_id].override[part_id] = {parent = parent_id}
					end
				end
			end
		end
	else
		log("[ERROR] cafcw_part_a_obj_pattern_override: Incorrect attach_type ID used: " .. attach_type, part_ovr_id)
	end
end
function WeaponFactoryTweakData:cafcw_wpn_a_obj_pattern_override(attach_type, wpn_id, a_obj_id, parent_id)
	if type(attach_tables[attach_type]) == "table" then
		if self[wpn_id] then
			for i, part_id in pairs(attach_tables[attach_type]) do
				if self.parts[part_id] then
					if a_obj_id and parent_id then
						if self[wpn_id].override then
							self[wpn_id].override[part_id] = {a_obj = a_obj_id, parent = parent_id}
						else
							log("[ERROR] CAFCW: Missing override table: " .. wpn_id, part_id)
						end
					elseif a_obj_id and not parent_id then
						if self[wpn_id].override then
							self[wpn_id].override[part_id] = {a_obj = a_obj_id}
						else
							log("[ERROR] CAFCW: Missing override table: " .. wpn_id, part_id)
						end
					elseif parent_id and not a_obj_id then
						if self[wpn_id].override then
							self[wpn_id].override[part_id] = {parent = parent_id}
						else
							log("[ERROR] CAFCW: Missing override table: " .. wpn_id, part_id)
						end
					end
				end
			end
		else
			log("[ERROR] cafcw_wpn_a_obj_pattern_override: Weapon not found: " .. wpn_id)
		end
	else
		log("[ERROR] cafcw_wpn_a_obj_pattern_override: Incorrect attach_type used: " .. attach_type, wpn_id)
	end
end
-- Contributed code
-- Comments are allowed in contributed code section.
function WeaponFactoryTweakData:cafcw_add_custom_ammo(wpn_or_part_id, ammo_type, forbids_add)
local ammo_table = {}
ammo_table._109x33mmR = {
	"wpn_fps_upg_a_poison44"
}
ammo_table._127x99mm = {
	"wpn_fps_rifleapin50"
}
ammo_table._545x18mm = {
	"wpn_fps_upg_a_pso545x18"
}
ammo_table._545x18mm_nonap = {
	"wpn_fps_upg_a_pso545x18"
}
ammo_table._762x51mm = {
	"wpn_fps_upg_a_762x51_xm115",
	"wpn_fps_upg_a_762x51_m852",
	"wpn_fps_upg_a_762x51_m118",
	"wpn_fps_upg_a_762x51_m118lr",
	"wpn_fps_upg_a_762x51_mk316mod0",
	"wpn_fps_upg_a_762x51_m80",
	"wpn_fps_upg_a_762x51_dm41",
	"wpn_fps_upg_a_762x51_dm111",
	"wpn_fps_upg_a_762x51_m948",
	"wpn_fps_upg_a_762x51_m959",
	"wpn_fps_upg_a_762x51_m993",
	"wpn_fps_upg_a_762x51_m61",
	"wpn_fps_upg_a_762x51_m62",
	"wpn_fps_upg_a_762x51_xm256",
	"wpn_fps_upg_a_762x51_m198"
}
ammo_table._556x45mm = {
	"wpn_fps_upg_a_taser556",
	"wpn_fps_upg_a_556x45_ppa",
	"wpn_fps_upg_a_556x45_dm31",
	"wpn_fps_upg_a_556x45_m995",
	"wpn_fps_upg_a_556x45_mk318mod0",
	"wpn_fps_upg_a_556x45_xm777",
	"wpn_fps_upg_a_556x45_xm778",
	"wpn_fps_upg_a_556x45_m196",
	"wpn_fps_upg_a_556x45_l110",
	"wpn_fps_upg_a_556x45_m855",
	"wpn_fps_upg_a_556x45_m855a1",
	"wpn_fps_upg_a_556x45_mk262",
	"wpn_fps_upg_a_556x45_mk318",
	"wpn_fps_upg_a_556x45_gp90",
	"wpn_fps_upg_a_556x45_acr1",
	"wpn_fps_upg_a_556x45_acr2",
	"wpn_fps_upg_a_556x45_acr3b"
}
ammo_table._545x39mm = {
	"wpn_fps_upg_a_545x39_7u1",
	"wpn_fps_upg_a_545x39_7n6",
	"wpn_fps_upg_a_545x39_7n6m",
	"wpn_fps_upg_a_545x39_7n10",
	"wpn_fps_upg_a_545x39_7n22",
	"wpn_fps_upg_a_545x39_7n24"
}
ammo_table._762x39mm = {
	"wpn_fps_riflein762x39",
	"wpn_fps_upg_a_762x39_hp",
	"wpn_fps_upg_a_762x39_m67",
	"wpn_fps_upg_a_762x39_8m3",
	"wpn_fps_upg_a_762x39_tsr",
	"wpn_fps_upg_a_762x39_poison",
	"wpn_fps_upg_a_762x39_57n231u",
	"wpn_fps_upg_a_762x39_g2",
	"wpn_fps_upg_a_762x39_57n231",
	"wpn_fps_upg_a_762x39_7n23",
	"wpn_fps_upg_a_762x39_hv",
	"wpn_fps_upg_a_762x39_fmjtit56",
	"wpn_fps_upg_a_762x39_z",
	"wpn_fps_upg_a_762x39_m83",
	"wpn_fps_upg_a_762x39_t56api",
	"wpn_fps_upg_a_762x39_bz",
	"wpn_fps_upg_a_762x39_elysium"
}
ammo_table._792x57mm = {
	"wpn_fps_upg_a_he8mm",
	"wpn_fps_upg_a_ince8mm",
	"wpn_fps_upg_a_ap8mm"
}
ammo_table._762x54mmr = {
	"wpn_fps_upg_a_762x54r_57n323s",
	"wpn_fps_upg_a_762x54r_7n13",
	"wpn_fps_upg_a_762x54r_7n26",
	"wpn_fps_upg_a_762x54r_7bz3",
	"wpn_fps_upg_a_762x54r_t46",
	"wpn_fps_upg_a_762x54r_t46m",
	"wpn_fps_upg_a_762x54r_7bt1",
	"wpn_fps_upg_a_762x54r_7n1",
	"wpn_fps_upg_a_762x54r_7n14",
	"wpn_fps_upg_a_762x54r_73p2"
}
ammo_table._9x39mm = {
	"wpn_fps_upg_a_9x39_pab9",
	"wpn_fps_upg_a_9x39_sp5",
	"wpn_fps_upg_a_9x39_spp",
	"wpn_fps_upg_a_9x39_sp6",
	"wpn_fps_upg_a_9x39_bp"
}
ammo_table._9x19mm = {
	"wpn_fps_pistolin9mm",
	"wpn_fps_upg_a_taser9mm",
	"wpn_fps_upg_a_lap9mm",
	"wpn_fps_upg_a_ap9mm",
	"wpn_fps_upg_a_hv9mm",
	"wpn_fps_upg_a_9x19_bird",
	"wpn_fps_upg_a_9x19_rat"
}
ammo_table._9x19mm_ac = {
	"wpn_fps_upg_ac_9x19"
}
ammo_table._9x19mm_p = {
	"wpn_fps_upg_a_7h21",
	"wpn_fps_upg_a_7h31"
}
ammo_table._12ga = {
	"wpn_fps_xrepslug",
	"wpn_fps_ionshot",
	"wpn_fps_taserslug",
	"wpn_fps_aptaser",
	"wpn_fps_hvshell",
	"wpn_fps_upg_a_minislug",
	"wpn_fps_upg_a_minibuck",
	"wpn_fps_upg_a_poisonslug",
	"wpn_fps_upg_a_12_bird",
	"wpn_fps_upg_a_12_exp_buck",
	"wpn_fps_upg_a_12_inc_slug"
}
ammo_table._12ga_auto = {
	"wpn_fps_taserslug",
	"wpn_fps_upg_a_12_inc_slug"
}
ammo_table._12ga_mag = {
	"wpn_fps_xrepslug",
	"wpn_fps_ionshot",
	"wpn_fps_taserslug",
	"wpn_fps_aptaser",
	"wpn_fps_hvshell",
	"wpn_fps_upg_a_poisonslug",
	"wpn_fps_upg_a_12_exp_buck",
	"wpn_fps_upg_a_12_inc_slug",
	"wpn_fps_upg_a_12_bird"
}
	for i, part_id in pairs(ammo_table[ammo_type]) do
		if forbids_add then
			if self.parts[wpn_or_part_id] and self.parts[part_id] then
				self.parts[wpn_or_part_id].forbids = self.parts[wpn_or_part_id].forbids or {}
				table.insert(self.parts[wpn_or_part_id].forbids, part_id)
			end
		else
			if self.parts[part_id] then
				table.insert(self[wpn_or_part_id].uses_parts, part_id)
			end
		end
	end
end
function WeaponFactoryTweakData:cafcw_add_custom_sights_ext(sight_base, wpn_id, stance_wpn_id, custom_stance, add_id, add_id_two)
	if type(attach_tables[sight_base]) == "table" then
		for i, sight_id in pairs(attach_tables[sight_base]) do
			if self.parts[sight_id] then
				if sight_base == "ACOG" then
					sight_base = "wpn_fps_upg_o_acog"
				elseif sight_base == "RDS45" then
					sight_base = "wpn_fps_upg_o_45rds"
				elseif sight_base == "Shortdot" then
					sight_base = "wpn_fps_upg_o_shortdot"
				elseif sight_base == "Specter" then
					sight_base = "wpn_fps_upg_o_specter"
				end
				table.insert(self[wpn_id].uses_parts, sight_id)
				if string.match(sight_base, "Custom") then
					if custom_stance then
						if self.parts[sight_id].stance_mod[stance_wpn_id] then
							self.parts[sight_id].stance_mod[wpn_id] = deep_clone(self.parts[sight_id].stance_mod[stance_wpn_id])
							self.parts[sight_id].stance_mod[wpn_id].translation = (self.parts[sight_id].stance_mod[stance_wpn_id].translation + custom_stance:ToVector3())
						else
							log("[ERROR] CAFCW: Missing required stance_mod: " .. wpn_id, sight_id, stance_wpn_id)
						end
					end
				else
					if custom_stance then
						if self.parts[sight_base].stance_mod[stance_wpn_id] then
							self.parts[sight_id].stance_mod[wpn_id] = deep_clone(self.parts[sight_base].stance_mod[stance_wpn_id])
							self.parts[sight_id].stance_mod[wpn_id].translation = custom_stance:ToVector3()
						else
							log("[ERROR] CAFCW: Missing required stance_mod: " .. wpn_id, sight_id, stance_wpn_id, sight_base)
						end
					end
				end
			end
			if self.parts[add_id] then
				if self[wpn_id].adds then
					if self.parts[add_id_two] then
						self[wpn_id].adds[sight_id] = {add_id,add_id_two}
					else
						self[wpn_id].adds[sight_id] = {add_id}
					end
				else
					log("[ERROR] CAFCW: Missing adds table: " .. wpn_id, sight_id, add_id)
				end
			end
		end
	else
		log("[ERROR] cafcw_add_custom_sights_ext: Incorrect sight_base ID used: " .. sight_base, wpn_id, stance_wpn_id)
	end
end
function WeaponFactoryTweakData:cafcw_category_forbid(wpn_id, cat_id, attach_id, exce_id)
	if self.parts[attach_id] then
		self.parts[attach_id].forbids = self.parts[attach_id].forbids or {}
		for _, part_id in pairs(self[wpn_id].uses_parts) do
			if self.parts[part_id].type == cat_id and part_id ~= exce_id then
				table.insert(self.parts[attach_id].forbids, part_id)
			end
		end
	end
end
function WeaponFactoryTweakData:cafcw_clone_override(type_id, wpn_prt_id, ovr_clone_id, clone_part_id, prt_tbl_id)
--note-- add custom stances for sights to this at some point
	if self.parts[wpn_prt_id] then
		self.parts[wpn_prt_id].override = self.parts[wpn_prt_id].override or {}
		if self.parts[clone_part_id] and self.parts[ovr_clone_id].override[clone_part_id] then
			if type_id == "attach_table" then
				for _, part_id in pairs(attach_tables[prt_tbl_id]) do
					if self.parts[part_id] then
						self.parts[wpn_prt_id].override[part_id] = deep_clone(self.parts[ovr_clone_id].override[clone_part_id])
					end
				end
			elseif type_id == "ammo_table" then
				for _, part_id in pairs(ammo_table[prt_tbl_id]) do
					if self.parts[part_id] then
						self.parts[wpn_prt_id].override[part_id] = deep_clone(self.parts[ovr_clone_id].override[clone_part_id])
					end
				end
			else
				self.parts[wpn_prt_id].override[prt_tbl_id] = deep_clone(self.parts[ovr_clone_id].override[clone_part_id])
			end
		else
			log("[ERROR] CAFCW: Missing Override: " .. ovr_clone_id, clone_part_id)
		end
	else
		self[wpn_prt_id].override = self[wpn_prt_id].override or {}
		ovr_clone_id = ovr_clone_id or wpn_prt_id
		if self.parts[clone_part_id] and self[ovr_clone_id].override[clone_part_id] then
			if type_id == "attach_table" then
				for _, part_id in pairs(attach_tables[prt_tbl_id]) do
					if self.parts[part_id] then
						self[wpn_prt_id].override[part_id] = deep_clone(self[ovr_clone_id].override[clone_part_id])
					end
				end
			elseif type_id == "ammo_table" then
				for _, part_id in pairs(ammo_table[prt_tbl_id]) do
					if self.parts[part_id] then
						self[wpn_prt_id].override[part_id] = deep_clone(self[ovr_clone_id].override[clone_part_id])
					end
				end
			else
				self[wpn_prt_id].override[prt_tbl_id] = deep_clone(self[ovr_clone_id].override[clone_part_id])
			end
		else
			log("[ERROR] CAFCW: Missing Override: " .. ovr_clone_id, clone_part_id)
		end
	end
end	
-- Contributed code end
Hooks:PostHook(WeaponFactoryTweakData, "create_bonuses", "CAFCWModInit", function(self)
-- Primary
-- AK-12
if self.wpn_fps_ass_ak12 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_ak12", "_545x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_ak12", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_ak12", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_ak12", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_ak12", "wpn_fps_ass_ak12")
	self:cafcw_add_attachment_type("Vertical_Grips", "wpn_fps_ass_ak12")
end
-- L115
if self.wpn_fps_snp_l115 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_l115", "wpn_fps_snp_l115")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_l115", "wpn_fps_snp_msr")
end
-- HK G36K
if self.wpn_fps_ass_g36k then
	self:cafcw_add_custom_ammo("wpn_fps_ass_g36k", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_g36k", "wpn_fps_ass_g36")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_g36k", "wpn_fps_ass_g36")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_g36k", "wpn_fps_ass_g36")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_ass_g36k", "wpn_fps_ass_g36")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_ass_g36k", nil, "sight_rail")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_ass_g36k", nil, "sight_rail")
end
-- SKS
if self.wpn_fps_ass_sks then
	self:cafcw_add_custom_ammo("wpn_fps_ass_sks", "_762x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_sks", "wpn_fps_ass_ching")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_sks", "wpn_fps_ass_ching")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_sks", "wpn_fps_ass_ching")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_sks", "wpn_fps_ass_sks")
end
-- AKU-94
if self.wpn_fps_ass_aku94 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_aku94", "_762x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_aku94", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_aku94", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_aku94", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_aku94", "wpn_fps_ass_l85a2")
end
-- VSS
if self.wpn_fps_snp_vss then
	self:cafcw_add_custom_ammo("wpn_fps_snp_vss", "_9x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_vss", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_vss", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_vss", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_vss", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_vss", "wpn_fps_snp_tti")
end
-- OTs-14-4A Groza
if self.wpn_fps_ass_ots_14_4a then
	self:cafcw_add_custom_ammo("wpn_fps_ass_ots_14_4a", "_9x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_ots_14_4a", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_ots_14_4a", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_ots_14_4a", "wpn_fps_ass_l85a2")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_ots_14_4a", "wpn_fps_ass_ots_14_4a")
	self:cafcw_add_attachment_type("Vertical_Grips", "wpn_fps_ass_ots_14_4a")
	self:cafcw_forbids_attachment_type("Vertical_Grips", "wpn_fps_ass_ots_14_4a_barrel")
end
-- Galil ACE 23
if self.wpn_fps_ass_galilace then
	self:cafcw_add_custom_ammo("wpn_fps_ass_galilace", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_galilace", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_galilace", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_galilace", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_galilace", "wpn_fps_ass_galilace")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_galilace", "wpn_fps_ass_ak5")
	self:cafcw_add_attachment_type("Vertical_Grips", "wpn_fps_ass_galilace")
	self:cafcw_part_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_upg_galilace_barrel_ace21", "a_of_short")
end
-- Galil ACE 7.62
if self.wpn_fps_ass_galilace762 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_galilace762", "_762x51mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_galilace762", "wpn_fps_ass_fal")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_galilace762", "wpn_fps_ass_fal")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_galilace762", "wpn_fps_ass_fal")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_galilace762", "wpn_fps_ass_galilace762")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_galilace762", "wpn_fps_ass_fal")
	self:cafcw_add_attachment_type("Vertical_Grips", "wpn_fps_ass_galilace762")
	self:cafcw_part_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_upg_galilace762_barrel_med", "a_of_short")
	self:cafcw_part_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_upg_galilace762_barrel_short", "a_of_short")
end
-- Baikal MP-153
if self.wpn_fps_shot_mp153 then
	self:cafcw_add_custom_ammo("wpn_fps_shot_mp153", "_12ga_auto")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_shot_mp153", "wpn_fps_sho_ben")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_shot_mp153", "wpn_fps_sho_ben")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_shot_mp153", "wpn_fps_sho_ben")
end
-- HK416
if self.wpn_fps_ass_hk416 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_hk416", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_hk416", "wpn_fps_ass_m4")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_hk416", "wpn_fps_ass_m4")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_hk416", "wpn_fps_ass_m4")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_hk416", "wpn_fps_ass_hk416")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_hk416", "wpn_fps_ass_m4")
	self:cafcw_add_attachment_type("AR15_Magazines", "wpn_fps_ass_hk416")
	self:cafcw_forbids_attachment_type("MOD_IronSightsPack_Custom", "wpn_fps_upg_hk416_fl_toprail")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_ass_hk416", nil, "foregrip")
end
-- SVD
if self.wpn_fps_snp_svd then
	self:cafcw_add_custom_ammo("wpn_fps_snp_svd", "_762x54mmr")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_svd", "wpn_fps_snp_svd")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_svd", "wpn_fps_snp_siltstone")
end
-- CheyTac M200
if self.wpn_fps_snp_m200 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_m200", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_m200", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_m200", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_m200", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_m200", "wpn_fps_snp_model70", nil, "0,6,0")
end
-- FN SCAR-L
if self.wpn_fps_ass_scarl then
	self:cafcw_add_custom_ammo("wpn_fps_ass_scarl", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_scarl", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_scarl", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_scarl", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_scarl", "wpn_fps_ass_scarl")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_scarl", "wpn_fps_ass_ak5")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_ass_scarl", nil, "lower_reciever")
end
-- Winchester Model 1894
if self.wpn_fps_snp_winchester1894 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_winchester1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_winchester1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_winchester1894", "wpn_fps_snp_tti")
end
-- McMillan CS5
if self.wpn_fps_snp_cs5 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_cs5", "wpn_fps_snp_cs5")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_cs5", "wpn_fps_snp_msr")
end
-- Akimbo Magpul FMG-9
if self.wpn_fps_smg_x_fmgnine then
	self:cafcw_add_custom_ammo("wpn_fps_smg_x_fmgnine", "_9x19mm")
end
-- Armalite AR-18
if self.wpn_fps_ass_ar18 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_ar18", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_ar18", "wpn_fps_ass_ak5", "wpn_fps_ass_ar18_sight_rail")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_ar18", "wpn_fps_ass_ak5", "wpn_fps_ass_ar18_sight_rail")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_ar18", "wpn_fps_ass_ak5", "wpn_fps_ass_ar18_sight_rail")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_ar18", "wpn_fps_ass_ar18")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_ar18", "wpn_fps_ass_ak5", "wpn_fps_ass_ar18_sight_rail")
end
-- TOZ-34
if self.wpn_fps_shot_toz34 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_shot_toz34", "wpn_fps_ass_amcar", "wpn_fps_shot_toz34_sight_rail")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_shot_toz34", "wpn_fps_ass_amcar", "wpn_fps_shot_toz34_sight_rail")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_shot_toz34", "wpn_fps_ass_amcar", "wpn_fps_shot_toz34_sight_rail")
end
-- HK MG4
if self.wpn_fps_lmg_mg4 then
	self:cafcw_add_custom_ammo("wpn_fps_lmg_mg4", "_556x45mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_lmg_mg4", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_lmg_mg4", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_lmg_mg4", "wpn_fps_ass_amcar")
end
-- AMR-2
if self.wpn_fps_snp_amr2 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_amr2", "wpn_fps_snp_msr")
end
-- LaRue OBR 5.56
if self.wpn_fps_ass_obr5 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_obr5", "wpn_fps_ass_obr5")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_obr5", "wpn_fps_snp_tti")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_ass_obr5", nil, "foregrip")
end
-- Mossberg 464 SPX Centerfire
if self.wpn_fps_snp_moss464spx then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_moss464spx", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_moss464spx", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_moss464spx", "wpn_fps_snp_tti")
end
-- AK-12 (2014 model)
if self.wpn_fps_ass_ak12_2014 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_ak12_2014", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_ak12_2014", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_ak12_2014", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_ass_ak12_2014", "wpn_fps_ass_ak12_2014")
end
-- M60E4
if self.wpn_fps_lmg_m60e4 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_lmg_m60e4", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_lmg_m60e4", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_lmg_m60e4", "wpn_fps_ass_amcar")
end
-- M1A1 Carbine
if self.wpn_fps_ass_m1a1 then
--	self:cafcw_add_custom_sights_ext("Custom_WW2_Allied", "wpn_fps_ass_m1a1", "wpn_fps_ass_s552", "0,-4,1.9") - After 1.1 update most likely will be misplaced.
--	self:cafcw_wpn_a_obj_pattern_override("Custom_WW2_Allied", "wpn_fps_ass_m1a1", "a_o_glue")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_m1a1", "wpn_fps_ass_s552")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_m1a1", "wpn_fps_ass_s552")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_m1a1", "wpn_fps_ass_s552")
end
-- SIG KE7
if self.wpn_fps_lmg_sigke7 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_lmg_sigke7", "wpn_fps_ass_fal")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_lmg_sigke7", "wpn_fps_ass_fal")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_lmg_sigke7", "wpn_fps_ass_fal")
end
-- Barrett M107CQ
if self.wpn_fps_snp_m107cq then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_m107cq", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_m107cq", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_m107cq", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_m107cq", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_m107cq", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_m107cq", "wpn_fps_snp_m107cq")
end
-- A-24 Devastator
if self.wpn_fps_gre_as24 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_gre_as24", "wpn_fps_ass_contraband")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_gre_as24", "wpn_fps_ass_contraband")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_gre_as24", "wpn_fps_ass_contraband")
end
-- Mosin Nagant Archangel
if self.wpn_fps_snp_mosinwtf then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_siltstone")
	self:cafcw_add_custom_sights("RDS45", "wpn_fps_snp_mosinwtf", "wpn_fps_snp_mosinwtf")
end
-- Blast Rifle
if self.wpn_fps_ass_blast then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_blast", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_blast", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_blast", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_blast", "wpn_fps_ass_ak5", nil, "0,3,0")
end
-- XR-2
if self.wpn_fps_ass_xr2 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_xr2", "wpn_fps_ass_corgi")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_xr2", "wpn_fps_ass_corgi")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_xr2", "wpn_fps_ass_corgi")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_xr2", "wpn_fps_ass_corgi")
end
-- K31/43
if self.wpn_fps_snp_k31 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_k31", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_k31", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_k31", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_k31", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_k31", "wpn_fps_snp_model70")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_SniperStats_Custom", "wpn_fps_snp_k31", "wpn_fps_snp_model70", nil, "0,12,0")
end
-- HK G3A3 HK79
if self.wpn_fps_ass_g3hk79 then
	self:cafcw_add_custom_ammo("wpn_fps_ass_g3hk79", "_762x51mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_g3hk79", "wpn_fps_ass_g3")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_g3hk79", "wpn_fps_ass_g3")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_g3hk79", "wpn_fps_ass_g3")
end
-- Plasma Rifle Prototype
if self.wpn_fps_ass_plasmaproto then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_plasmaproto", "wpn_fps_ass_m16")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_plasmaproto", "wpn_fps_ass_m16")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_plasmaproto", "wpn_fps_ass_m16")
	if self.parts.wpn_fps_ass_plasmaproto_riser then
		self:cafcw_add_custom_sights("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_ass_plasmaproto", "wpn_fps_ass_m16_alt", "wpn_fps_ass_plasmaproto_riser", "0,5,-0.8657")
		self:cafcw_forbids_adds_attachment_type("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_ass_plasmaproto_rearsight_folded")
	end
end
-- M41A Pulse Rifle
if self.wpn_fps_ass_xeno then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_xeno", "wpn_fps_ass_corgi")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_xeno", "wpn_fps_ass_corgi")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_xeno", "wpn_fps_ass_corgi")
end
-- O.W.L.F. Pitbull
if self.wpn_fps_ass_owlfbullpup then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_owlfbullpup", "wpn_fps_ass_m16")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_owlfbullpup", "wpn_fps_ass_m16")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_owlfbullpup", "wpn_fps_ass_m16")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_ass_owlfbullpup", "wpn_fps_ass_m16_alt", nil, "0,-6,0")
end
-- Secondary
-- PPSh-41
if self.wpn_fps_smg_ppsh then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_smg_ppsh", "wpn_fps_smg_thompson")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_smg_ppsh", "wpn_fps_smg_thompson")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_smg_ppsh", "wpn_fps_smg_thompson")
end
-- Marlin Model 1894 Custom
if self.wpn_fps_snp_m1894 then
	self:cafcw_add_custom_ammo("wpn_fps_snp_m1894", "_109x33mmR")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_snp_m1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_snp_m1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_snp_m1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Custom_Sniper", "wpn_fps_snp_m1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("Shortdot", "wpn_fps_snp_m1894", "wpn_fps_snp_tti")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_snp_m1894", "wpn_fps_snp_tti", nil, "0,8,0")
end
-- Magpul FMG-9
if self.wpn_fps_smg_fmgnine then
	self:cafcw_add_custom_ammo("wpn_fps_smg_fmgnine", "_9x19mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_smg_fmgnine", "wpn_fps_smg_sr2")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_smg_fmgnine", "wpn_fps_smg_sr2")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_smg_fmgnine", "wpn_fps_smg_sr2")
end
-- PPK-20
if self.wpn_fps_smg_ppk20 then
	self:cafcw_add_custom_ammo("wpn_fps_smg_ppk20", "_9x19mm")
	self:cafcw_add_custom_ammo("wpn_fps_smg_ppk20", "_9x19mm_p")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_smg_ppk20", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_smg_ppk20", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_smg_ppk20", "wpn_fps_ass_ak5")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_smg_ppk20", "wpn_fps_ass_ak5")
	self:cafcw_forbids_attachment_type("MOD_IronSightsPack_Custom", "wpn_fps_upg_ppk20_rail_midwest")
	self:cafcw_forbids_attachment_type("MOD_IronSightsPack_Custom", "wpn_fps_upg_ppk20_rail_zenit")
end
-- APS
if self.wpn_fps_pis_aps then
	self:cafcw_add_custom_ammo("wpn_fps_pis_aps", "_9x19mm")
	self:cafcw_add_custom_ammo("wpn_fps_pis_aps", "_9x19mm_ac")
end
-- S&W M&P40
if self.wpn_fps_pis_swmp40 then
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_swmp40", "wpn_fps_pis_sparrow", "wpn_fps_pis_swmp40_sight_dummy")
	self:cafcw_add_custom_sights("SpecterSmall", "wpn_fps_pis_swmp40", "wpn_fps_pis_rage", "wpn_fps_pis_swmp40_sight_dummy")
	self:cafcw_add_custom_sights("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_swmp40", "wpn_fps_pis_sparrow", nil, "-0,0,0.2")
	self:cafcw_forbids_attachment_type("Specter", "wpn_fps_pis_swmp40_sights_forbids")
	self:cafcw_forbids_attachment_type("ACOG", "wpn_fps_pis_swmp40_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom", "wpn_fps_pis_swmp40_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom_Pistol", "wpn_fps_upg_swmp40_sight_rail")
	self:cafcw_forbids_attachment_type("MOD_PistolIronSightsPack_Custom", "wpn_fps_upg_swmp40_sight_rail")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_swmp40", nil, "slide")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Front", "wpn_fps_pis_swmp40", nil, "slide")
end
-- Walther P99
if self.wpn_fps_pis_p99 then
	self:cafcw_add_custom_ammo("wpn_fps_pis_p99", "_9x19mm")
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_p99", "wpn_fps_pis_legacy", "wpn_fps_pis_p99_sight_dummy")
	self:cafcw_add_custom_sights("SpecterSmall", "wpn_fps_pis_p99", "wpn_fps_pis_rage")
	self:cafcw_forbids_attachment_type("Specter", "wpn_fps_pis_p99_sights_forbids")
	self:cafcw_forbids_attachment_type("ACOG", "wpn_fps_pis_p99_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom", "wpn_fps_pis_p99_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom_Pistol", "wpn_fps_upg_p99_sight_rail")
	self:cafcw_forbids_attachment_type("MOD_PistolIronSightsPack_Custom", "wpn_fps_upg_p99_sight_rail")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_p99", nil, "slide")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Front", "wpn_fps_pis_p99", nil, "slide")
end
-- Steyr AUG A3 9mm XS
if self.wpn_fps_smg_aug9mm then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_smg_aug9mm", "wpn_fps_smg_mp9")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_smg_aug9mm", "wpn_fps_smg_mp9")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_smg_aug9mm", "wpn_fps_smg_mp9")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_NoScorpEvo_Custom", "wpn_fps_smg_aug9mm", "wpn_fps_smg_mp9")
	self:cafcw_add_attachment_type("Vertical_Grips", "wpn_fps_smg_aug9mm")
end
-- Mauser M712 Schnellfeuer
if self.wpn_fps_pis_m712 then
	self:cafcw_add_attachment_type("Barrel_Extensions_Pistol", "wpn_fps_pis_m712")
	self:cafcw_add_attachment_type("Suppressors_Pistol", "wpn_fps_pis_m712")
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_m712", "wpn_fps_pis_packrat", "wpn_fps_pis_m712_sight_adapt")
end
-- Beretta Px4 Storm
if self.wpn_fps_pis_px4 then
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_px4", "wpn_fps_pis_sparrow", "wpn_fps_pis_px4_sight_dummy")
	self:cafcw_add_custom_sights("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_px4", "wpn_fps_pis_sparrow")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_px4", nil, "slide")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Front", "wpn_fps_pis_px4", nil, "slide")
end
-- PPS-43
if self.wpn_fps_smg_pps43 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_smg_pps43", "wpn_fps_smg_m45", "wpn_fps_smg_pps43_rail")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_smg_pps43", "wpn_fps_smg_m45", "wpn_fps_smg_pps43_rail")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_smg_pps43", "wpn_fps_smg_m45", "wpn_fps_smg_pps43_rail")
end
-- Chiappa Rhino 60DS
if self.wpn_fps_pis_rhino then
	self:cafcw_forbids_attachment_type("Specter", "wpn_fps_upg_rhino_barrel_200ds")
	self:cafcw_forbids_attachment_type("ACOG", "wpn_fps_upg_rhino_barrel_200ds")
	self:cafcw_forbids_attachment_type("Custom", "wpn_fps_upg_rhino_barrel_200ds")
end
-- Mateba Model 6 Unica
if self.wpn_fps_pis_unica6 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_pis_unica6", "wpn_fps_pis_rage")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_pis_unica6", "wpn_fps_pis_rage")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_pis_unica6", "wpn_fps_pis_rage")
end
-- HX25 Handheld Grenade Launcher
if self.wpn_fps_gre_hx25 then
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_gre_hx25", "wpn_fps_pis_lemming")
end
-- KS-23
if self.wpn_fps_shot_ks23 then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_shot_ks23", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_shot_ks23", "wpn_fps_ass_amcar")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_shot_ks23", "wpn_fps_ass_amcar")
end
-- Widowmaker TX
if self.wpn_fps_shot_wmtx then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_shot_wmtx", "wpn_fps_sho_rota")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_shot_wmtx", "wpn_fps_sho_rota")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_shot_wmtx", "wpn_fps_sho_rota")
end
-- CBRPS SKS Pug
if self.wpn_fps_ass_skspug then
	self:cafcw_add_custom_ammo("wpn_fps_ass_skspug", "_762x39mm")
	self:cafcw_add_custom_sights("Specter", "wpn_fps_ass_skspug", "wpn_fps_sho_basset")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_ass_skspug", "wpn_fps_sho_basset")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_ass_skspug", "wpn_fps_sho_basset")
	self:cafcw_add_custom_sights("MOD_IronSightsPack_Custom", "wpn_fps_ass_skspug", "wpn_fps_sho_basset")
	self:cafcw_wpn_a_obj_pattern_override("MOD_IronSightsPack_Front", "wpn_fps_ass_skspug", nil, "foregrip")
end
-- Glock 19
if self.wpn_fps_pis_g19 then
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_g19", "wpn_fps_pis_lemming", "wpn_fps_pis_g19_sight_dummy")
	self:cafcw_add_custom_sights("CustomSmall", "wpn_fps_pis_g19", "wpn_fps_pis_rage")
	self:cafcw_add_custom_sights("SpecterSmall", "wpn_fps_pis_g19", "wpn_fps_pis_rage")
	self:cafcw_add_custom_sights("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_g19", "wpn_fps_pis_lemming")
	self:cafcw_forbids_attachment_type("Specter", "wpn_fps_pis_g19_sights_forbids")
	self:cafcw_forbids_attachment_type("ACOG", "wpn_fps_pis_g19_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom", "wpn_fps_pis_g19_sights_forbids")
	self:cafcw_forbids_attachment_type("Custom_Pistol", "wpn_fps_upg_g19_sight_mount")
	self:cafcw_forbids_attachment_type("MOD_PistolIronSightsPack_Custom", "wpn_fps_upg_g19_sight_mount")
	self:cafcw_wpn_a_obj_pattern_override("CustomSmall", "wpn_fps_pis_g19", "a_o_alt")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Custom", "wpn_fps_pis_g19", nil, "slide")
	self:cafcw_wpn_a_obj_pattern_override("MOD_PistolIronSightsPack_Front", "wpn_fps_pis_g19", nil, "slide")
end
-- Pancor Jackhammer
if self.wpn_fps_shot_jackhammer then
	self:cafcw_add_custom_sights("Specter", "wpn_fps_shot_jackhammer", "wpn_fps_sho_rota")
	self:cafcw_add_custom_sights("ACOG", "wpn_fps_shot_jackhammer", "wpn_fps_sho_rota")
	self:cafcw_add_custom_sights("Custom", "wpn_fps_shot_jackhammer", "wpn_fps_sho_rota")
end
-- SW Model 27
if self.wpn_fps_pis_sw27 then
	self:cafcw_add_attachment_type("MOD_RevolverGadgets", "wpn_fps_pis_sw27")
end
-- Sidekick
if self.wpn_fps_smg_uzi_lowang then
	self:cafcw_add_custom_sights("SpecterSmall", "wpn_fps_smg_uzi_lowang", "wpn_fps_smg_mp9")
	self:cafcw_add_custom_sights("CustomSmall", "wpn_fps_smg_uzi_lowang", "wpn_fps_smg_mp9")
end
-- FP-45 Liberator
if self.wpn_fps_pis_fp45 then
	self:cafcw_add_custom_sights("Custom_Pistol", "wpn_fps_pis_fp45", "wpn_fps_pis_rage")
end
-- Attachments
-- AK Rail Cover
if self.parts.wpn_fps_upg_o_ak_coverrail and self.parts.wpn_fps_upg_o_akmsu_coverrail then
	self:cafcw_part_a_obj_pattern_override("Specter", "wpn_fps_upg_o_ak_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("ACOG", "wpn_fps_upg_o_ak_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Custom", "wpn_fps_upg_o_ak_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Custom", "wpn_fps_upg_o_akmsu_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Specter", "wpn_fps_upg_o_akmsu_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("ACOG", "wpn_fps_upg_o_akmsu_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Custom", "wpn_fps_upg_o_asval_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Specter", "wpn_fps_upg_o_asval_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("ACOG", "wpn_fps_upg_o_asval_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Custom", "wpn_fps_upg_o_coal_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("Specter", "wpn_fps_upg_o_coal_coverrail", nil, "extra_rail")
	self:cafcw_part_a_obj_pattern_override("ACOG", "wpn_fps_upg_o_coal_coverrail", nil, "extra_rail")
	self:cafcw_forbids_attachment_type("MOD_IronSightsPack_Custom", "wpn_fps_upg_o_ak_coverrail")
end
-- Aug A1 Kit
if self.parts.wpn_fps_aug_body_aug_a1 and self.parts.wpn_fps_aug_body_aug_a3 then
	self:cafcw_forbids_attachment_type("Vertical_Grips", "wpn_fps_aug_body_aug_a1")
	self:cafcw_forbids_attachment_type("Vertical_Grips", "wpn_fps_aug_body_aug_a3")
end
end)